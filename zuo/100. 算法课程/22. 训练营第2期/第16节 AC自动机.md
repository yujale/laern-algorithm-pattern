# AC自动机

#AC自动机


## [[红黑树]]

1）平衡性规定非常诡异  
2）平衡性调整最为复杂  
3）优点在于每次插入删除扰动较好，但是在今天看来这个优势也极其微弱了  
原因：贪图扰动小的话，B+树、2-3-4树可能更好，还是那句话，到底图什么  
4）除此之外，红黑树并不比AVL树、SB树、跳表更加优秀   
5）面试上遇到，说清楚道理，不行就举报  


### [[AVL树、SB树、红黑树的共性与不同]]

**AVL树、SB树、红黑树的共性**

1）都是搜索二叉树  
2）插入、删除、查询（一切查询）搜索二叉树怎么做，这些结构都这么做  
3）使用调整的基本动作都只有左旋、右旋  
4）插入、删除时，从最底层被影响到的节点开始，对往上路径的节点做平衡性检查  
5）因为只对一条向上路径的每个节点做O(1)的检查和调整，所以可以做到O(logN)  


**AVL树、SB树、红黑树的不同**  

1）平衡性的约束不同  
AVL树最严格、SB树稍宽松、红黑树最宽松  
2）插入、删除和搜索二叉树一样，但是额外，做各自的平衡性调整。各自的平衡性调整所使用的动作都是左旋或者右旋  

- [[包含每个数组至少一个数的最窄的且开始位置最小的区间]]  
不需要改写有序表, 用系统提供的就行

## [[改写有序表的题目核心点]]


### 需要改写有序表的题目

不是所有的问题, 系统提供的API接口都是够用的

- [[区间和达标的子数组数量|需要改写有序表的题目一]]
- 480.[[滑动窗口中位数|需要改写有序表的题目二]]

现场会手写SB树吗?  
基本上只会笔试出现, 如果面试出现, 跟面试官聊
假设我实现一个SB树, 细节跟面试官说完以后, 拿它当黑盒用
不可能让你现场撸, 但是你要说清楚怎么改
要把怎么样把<key的数量的求出来的过程给面试官讲


改有序表增加all字段, 只是一系列有序表改法中的一种
 任何一个有序表都可以
一般都用SB树
有序表的改法, 还有有许多种, 只要想清楚一件事:
增加字段之后在搜索二叉树上能玩的事, 一定能改出来
因为它和调整平衡性没关系



需要用系统实现的有序表的题目频率还是挺高的, 自己手动撸改有序表的题目频率不高, 但是只要出现了, 都比较难


## [[AC自动机]]

### 解决的问题
有多个候选串, 
想知道文章中命中了那些候选串
 整个文章中, 给你一批后选串, 谁命中了, 
在这个文章中给找出来, 给返回一个list
把给定后选串里命中的加入list

KMP:
一个大字符串, 一个match串, 
只有一个match串, 问在大的 str中match存不存在 
最早存在的位置在哪儿


AC自动机怎么实现的?
关键在于怎么理解fail指针


## 题目列表
- [[包含每个数组至少一个数的最窄的且开始位置最小的区间]]   
- [[区间和达标的子数组数量|需要改写有序表的题目一]]  
- 480.[[滑动窗口中位数|需要改写有序表的题目二]]  