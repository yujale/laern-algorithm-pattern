# 推荐饭店问题

---
一个小人在某个位置，怎么把他方圆指定距离范围内的饭店推荐到手机上

假设， 每一个商家都在后台注册了精确的经度跟纬度位置， 也通过手机的定位服务知道小人的经度跟纬度位置， 怎么设计推荐小人周围500米，1km内，5km，10km以内有多少店？


---
![[Pasted image 20201215121343.png]]

把整个城市用1\*1km的网格切分
每个网格可以找到它的行号跟列号
每个商家加一个信息，他属于哪个网格
当然店家也有精确的经纬度信息
根据小人所在的格子，找到上下左右一圈的格子， 取出格子里的商家
计算取出格子商家的经纬度跟人的经纬度的精确距离

或者使用[[Geohash算法]]  


